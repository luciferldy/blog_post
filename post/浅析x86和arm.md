+++
date = "2015-06-14T17:03:33+08:00"
menu = "main"
tags = ["code"]
title = "浅析 x86 和 arm"

+++

在接触到Android更深了以后，会发现一些更加底层的概念，比如说是架构方面，本文主要介绍一下Android的主要架构ARM和普通PC的架构X86的区别

从架构上说，x86属于CISC（复杂指令集），而ARM则是RISC（精简指令集），CISC相对于RISC的单条指令更加长，功能更加多，单条指令的性能更加强大。RISC包含了简单，基本的指令，透过这些简单，基本的指令，就可以组合成复杂的指令。

进一步比较CISC和RISC的区别（我也不咋懂）

1. 指令的形成：CISC因指令复杂，故采用微指令码控制单元的设计，而RISC的指令格式统一，种类比较少，寻址方式也比复杂指令集少，90%是由硬件直接完成，只有10%的指令是由软件以组合的方式完成，因此指令执行时间上RISC较短，但RISC所需ROM空间相对较大，至于RAM似乎用大小应该与程序的应用比较有关系。
2. 定址模式：CISC需要较多的定址模式，而RISC只有少数的定址模式，因此CPU在计算记忆体有效位址时，CISC占用的汇流排周期较多
3. 指令周期：CISC指令的格式长短不一，执行时的周期次数也不统一，而RISC结构刚好相反，故适合采用管线处理架构的设计，进而可以达到平均一周期完成一指令的方向努力。显然的，在设计上RISC较CISC简单，同时因为CISC的执行步骤过多，闲置的单元电路等待时间增长，不利于平行处理的设计，所以就效能而言RISC较CISC还是占了上风，但RISC因指令精简化后造成应用程式码变大，需要较大的程式记忆体空间，且存在指令种类较多等等的缺点。
4. 寄存器：对CPU内核结构的影响X86指令集只有8个通用寄存器。所以CISC的CPU执行大多数时间是在访问存储器中的数据，而不是寄存器中的。这就拖慢了整个系统的速度。RISC系统万网具有非常多的通用寄存器，并采用了重叠寄存器窗口和寄存器堆等技术使寄存器资源得充分的利用。

我在Android中接触到的关于架构方面的知识就是在于虚拟机，原来谷歌官方的Android虚拟机都是使用ARM架构的，然后PC上跑的比较慢，后来有一款Genymotion虚拟机使用的x86的架构，在PC上跑的飞起，现在谷歌官方的虚拟机也是使用了Intel x86 Emulator Accelerator，现在虚拟机的运行速度也可以达到相当快的水平了。